---
import { Icon } from "astro-icon/components"

const projects = await fetch(
  'https://gh-pinned-repos.egoist.dev/?username=Hyro32'
)
  .then((res) => res.json())
  .catch(() => [])
---

<div class="flex flex-col gap-4">
  <h2>Projects</h2>
  <div class="grid grid-cols-3 gap-4 max-sm:grid-cols-2">
    {
      projects.map((project) => (
        <a
          href={project.link}
          class="flex flex-col gap-2 p-2 border border-dashed rounded-md bg-neutral-800/50 hover:scale-105 transition-transform"
          style={{
            borderColor: project.languageColor,
          }}
        >
          <div class="flex items-center justify-between w-full">
            {project.repo}
            <Icon name="mingcute:arrow-right-up-line" />
          </div>
        </a>
      ))
    }
  </div>
</div>
