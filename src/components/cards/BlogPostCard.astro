---
import { tags } from '../../content/_tags'

const { post } = Astro.props
const tag = tags.find((tag) => tag.label === post.data.tag)
---

<a href=`blog/${post.slug.split('/')[1]}` class="blog-post-card">
  <div class="blog-post-card-top">
    <div class="blog-post-card-top-author">
      <img
        src=`https://avatars.githubusercontent.com/${post.data.author}`
        alt="avatar"
      />
      <span>{post.data.author}</span>
    </div>
    <p>{post.data.date.toDateString()}</p>
  </div>
  <div class="blog-post-card-bottom">
    <div>
      <h3>{post.data.title}</h3>
      <p>{post.data.description}</p>
    </div>
    <p
      class="tag-badge"
      style={{
        borderColor: `var(${tag?.textColor})`,
        color: `var(${tag?.textColor})`,
        backgroundColor: `var(${tag?.bgColor})`
      }}
    >
      {post.data.tag}
    </p>
  </div>
</a>

<style>
  .blog-post-card {
    display: flex;
    flex-direction: column;
    width: 100%;
    text-decoration: none;
    color: var(--sl-color-text);
    border-radius: 0.375rem;
    border: 1px solid var(--sl-color-gray-4);
    background-color: var(--sl-color-gray-6);
  }

  .blog-post-card-bottom {
    display: flex;
    align-items: end;
    justify-content: space-between;
    padding: 10px;
  }

  .blog-post-card-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px;
  }

  .blog-post-card-top {
    border-bottom: 1px solid var(--sl-color-gray-4);
  }

  .blog-post-card p,
  .blog-post-card h3 {
    margin: 0;
  }

  .blog-post-card-top-author {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .blog-post-card-top-author img {
    width: 20px;
    height: 20px;
    object-fit: cover;
    border-radius: 20%;
    border: 1px solid var(--sl-color-gray-4);
  }

  .blog-post-card:hover {
    transform: scale(1.01);
    transition: all 0.2s ease-in-out;
  }
</style>
